# 设计
1. VR带看后台服务，根据业务量，将部署成多个k8s的服务Service，公开给外部访问，每个Service只有1个Pod，保证外部访问连接到同一个服务进程
2. 额外增加一个中间层服务，记录后台服务地址，将为客户端提供WebAPI的查询功能
3. 查询/分配：客户端传入RoomId查询后台服务地址。中间层根据负载规则选择一个后台服务地址返回给客户端，并记录RoomId和服务地址的关系在Redis，下次相asdasdasId的查询将返回同样的服务地址。RoomId和服务地址的关系在Redis保留8小时后自动删除，设计自动删除的原因是vr带看，一方加入房间后等待另一方加入的时间以及通话时间应该都不会超过8小时，数据不用保留太久
3. 负载：中间层记录各个服务器的分配情况，保证外部请求能匀地分配给各个服务器
3. 中间层提供基本的用于维护的WebAPI，当增加服务或减少服务时，手动更改可用的后台服务信息